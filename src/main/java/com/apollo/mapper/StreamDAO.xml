<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.apollo.stream.dao.StreamDAO">

<select id="getPidlist" resultType="com.apollo.vo.ProjectDTO" parameterType="String">
	select * from project where pid in (select pid from pmember where mid=#{mid})
</select>

<select id="getStreamlist" resultType="com.apollo.vo.CommentDTO">
select c.*, m.mname,t.tname 
from comments c join member m on c.mid = m.mid join task t on t.tid = c.tid 
where c.tid in (select tid from task where pid = #{pid}) and (cmtkind = 1 or cmtkind=2)
</select>

</mapper>