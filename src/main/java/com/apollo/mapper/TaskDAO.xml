<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.apollo.task.dao.TaskDAO">
    <select id="getTasks" parameterType="String" resultType="com.apollo.vo.TaskDTO">
    select * from task where pid = #{pid}
    </select>
    
    <select id="getAssignedTasks" parameterType="String" resultType="com.apollo.vo.TaskDTO">
    select * from task where pid=#{pid} and tid in (select tid from assignee)
    </select>
	    
    <select id="getNotAssignedTasks" parameterType="String" resultType="com.apollo.vo.TaskDTO">
    select * from task where pid=#{pid} and tid not in (select tid from assignee)
    </select>
    
    <select id="getTasksInSteps" parameterType="String" resultType="com.apollo.vo.TaskDTO">
    select * from taskinstep where sid = #{sid}
    </select>
    
    <select id="getTasksByStepId" parameterType="String" resultType="com.apollo.vo.TaskDTO">
    select * from task where tid in (select tid from taskinstep where sid= #{sid})
    </select>
</mapper>