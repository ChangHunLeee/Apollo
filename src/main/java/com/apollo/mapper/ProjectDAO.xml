<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.apollo.project.dao.ProjectDAO">
	<insert id="insertProject" statementType="CALLABLE">
		<!-- insert into project values(SEQ_PID.nextval, 'test_project1', TO_DATE(sysdate,'YYYY-MM-DD HH24:MI:SS'), 
		TO_DATE('2018-07-11 11:59:59', 'YYYY-MM-DD HH24:MI:SS'), 1, 'testid1', 1, TO_DATE(sysdate,'YYYY-MM-DD HH24:MI:SS'), 
		'테스트 프로젝트_1 상세정보'); 
		PID NUMBER NOT NULL, /* 프로젝트 아이디 */
		PNAME VARCHAR2(300) NOT NULL, /* 프로젝트이름 */
		SDAY DATE, /* 시작일 */
		EDAY DATE, /* 종료일 */
		METHODOLOGYID NUMBER NOT NULL, /* 방법론아이디 */
		MID VARCHAR2(50) NOT NULL, /* 책임자 */
		PSTATUSCODE NUMBER NOT NULL, /* 상태코드 */
		STMTIME DATE NOT NULL, /* 상태변경시각 */
		DETAIL VARCHAR2(2000) /* 상세정보 */ 
		-->
	
		insert into project (PID, PNAME, SDAY, EDAY, METHODOLOGYID, MID, PSTATUSCODE, STMTIME, DETAIL)
		values (SEQ_PID.nextval, #{PNAME}, #{SDAY}, #{EDAY}, #{METHODOLOGYID}, #{MID}, 1, TO_DATE(sysdate,'YYYY-MM-DD HH24:MI:SS'), #{DETAIL});
		
	</insert>
	<update id="updateProject" parameterType="com.apollo.vo.ProjectDTO">
		update project
		set PNAME=#{PNAME}, SDAY=#{SDAY}, EDAY=#{EDAY}, STMTIME=sysdate, DETAIL=#{DETAIL}
		where PID=#{PID}
	</update>
	<delete id="deleteProject">
		delete project where PID=#{PID}
	</delete>
	
</mapper>